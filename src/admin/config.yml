backend:
  name: git-gateway
  branch: main

media_folder: "src/assets/uploads"
public_folder: "/assets/uploads"

slug:
  encoding: "ascii"
  clean_accents: true
  sanitize_replacement: "-"

collections:
  # 1. БЛОГ
  - name: "blog"
    label: "Блог"
    folder: "src/blog"
    create: true
    slug: "{{year}}-{{month}}-{{slug}}"
    fields:
      - {label: "Тег", name: "tags", widget: "hidden", default: "blog"}
      # --- ДОБАВЛЕНО ПОЛЕ КАТЕГОРИИ ---
      - {label: "Категория", name: "category", widget: "select", options: ["stories", "news", "lore"], default: "stories"}
      # -------------------------------
      - {label: "Заголовок (RU)", name: "title_ru", widget: "string"}
      - {label: "Title (EN)", name: "title_en", widget: "string"}
      - {label: "Дата", name: "date", widget: "datetime"}
      - {label: "Обложка", name: "image", widget: "image", required: false}
      - {label: "Текст (RU)", name: "body_ru", widget: "markdown"}
      - {label: "Text (EN)", name: "body_en", widget: "markdown"}

  # 2. КНИГИ
  - name: "books"
    label: "Книги"
    folder: "src/books"
    create: true
    fields:
      - {label: "Тег", name: "tags", widget: "hidden", default: "books"}
      - {label: "Название (RU)", name: "title_ru", widget: "string"}
      - {label: "Title (EN)", name: "title_en", widget: "string"}
      - {label: "Обложка", name: "cover", widget: "image"}
      - {label: "Описание (RU)", name: "body_ru", widget: "markdown"}
      - {label: "Description (EN)", name: "body_en", widget: "markdown"}
      - {label: "Ссылка/Link", name: "link", widget: "string", required: false}

  # 3. ЗАМЕТКИ
  - name: "notes"
    label: "Заметки"
    folder: "src/notes"
    create: true
    fields:
      - {label: "Тег", name: "tags", widget: "hidden", default: "notes"}
      - {label: "Тема (RU)", name: "title_ru", widget: "string"}
      - {label: "Topic (EN)", name: "title_en", widget: "string"}
      - {label: "Дата", name: "date", widget: "datetime"}
      - {label: "Текст (RU)", name: "body_ru", widget: "markdown"}
      - {label: "Text (EN)", name: "body_en", widget: "markdown"}